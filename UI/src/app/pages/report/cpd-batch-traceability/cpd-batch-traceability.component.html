<nb-card class="table-card">
  <nb-card-header>
    CPD Batch Order Traceability Report
  </nb-card-header>
  <nb-card-body>
    <div class="row col-12">
      <form [formGroup]="mainForm" class="form-inline" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label
            class="label"
            style="padding-right: 10px;"
            for="input-CPDBatchOrder"
            >Enter CPD Batch Order No:
          </label>
          <br />
          <input
            class="form-control"
            style="margin-right: 10px;"
            nbInput
            type="text"
            placeholder="CPD Batch Order No."
            formControlName="cpdBatchOrder"
            id="input-CPDBatchOrder"
          />
          <button nbButton class="form-control" status="success">Search</button>
        </div>
      </form>
    </div>
  </nb-card-body>
</nb-card>

<nb-card [hidden]="hideResult" >
  <nb-card-body  id="div_table">
    <h2>CPD Batch Order Traceability Report <button nbButton class="buttonPrint" style="float: right;"  (click)="print()"><nb-icon icon="printer-outline"></nb-icon></button></h2>
    <div class="row col-12">
      <div class="col-6">
        <table>
          <thead></thead>
          <tbody>
            <td>
              <tr style="font-weight: bold;">
                CPD Batch Order No
              </tr>
              <tr style="font-weight: bold;">
                Plant
              </tr>
              <tr style="font-weight: bold;">
                Mixing Tank
              </tr>
            </td>
            <td>
              <tr>:</tr>
              <tr>:</tr>
              <tr>:</tr>
            </td>
            <td>
              <tr>
                {{
                  reportHeader.cpdBatchOrderNo
                }}
              </tr>
              <tr>
                {{
                  reportHeader.plant
                }}
              </tr>
              <tr>
                {{
                  reportHeader.mixingTank
                }}
              </tr>
            </td>
          </tbody>
        </table>
      </div>
      <div class="col-6">
          <table>
              <thead></thead>
              <tbody>
                <td>
                  <tr style="font-weight: bold;">
                    Quantity(kg)
                  </tr>
                  <tr style="font-weight: bold;">
                    Current Stage
                  </tr>
                  <tr style="font-weight: bold;">
                    Last Updated Date Time
                  </tr>
                  <tr style="font-weight: bold;">
                    Generated On
                  </tr>
                </td>
                <td>
                  <tr>:</tr>
                  <tr>:</tr>
                  <tr>:</tr>
                  <tr>:</tr>
                </td>
                <td>
                  <tr>
                    {{
                      reportHeader.cpdBatchQuantity
                    }}
                  </tr>
                  <tr>
                    {{
                      reportHeader.cpdStageStatus
                    }}
                  </tr>
                  <tr>
                    {{
                      reportHeader.cpdStageDateTime
                    }}
                  </tr>
                  <tr>
                    {{
                      generatedDateTime
                    }}
                  </tr>
                </td>
              </tbody>
            </table>
      </div>
    </div>
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
      <!-- Position Column -->
      <ng-container matColumnDef="No">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>No.</th>
        <td mat-cell *matCellDef="let element; let i = index">{{ i + 1 }}</td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="DateTime">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>DateTime</th>
        <td mat-cell *matCellDef="let element">{{ element.actionDatetime }}</td>
      </ng-container>

      <!-- Weight Column -->
      <ng-container matColumnDef="Action">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
        <td mat-cell *matCellDef="let element">{{ element.actionText }}</td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="Status">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Status</th>
        <td mat-cell *matCellDef="let element">{{ element.actionStatus }}</td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="PerformedBy">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>PerformedBy</th>
        <td mat-cell *matCellDef="let element">{{ element.actionBy }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </nb-card-body>
</nb-card>
<nb-card [hidden]="hideNotFound">
    <nb-card-header>CPD Batch Order cannot found</nb-card-header>
</nb-card>